rm(list = ls())
read.csv("../workflow/data/speciesList.txt")
getwd()
read.csv("../workflow/data/speciesList.csv")
rm(list = ls())
read.csv("../workflow/data/speciesList.csv")
rm(list = ls())
species = read.csv("../workflow/data/speciesList.csv")
rm(list = ls())
species = read.csv("../workflow/data/speciesList.csv")$Species
unique(species)
all(unique(species))
any(duplicanted(species))
any(duplicated(species))
rm(list = ls())
speciesList = read.csv("../workflow/data/speciesList.csv")$Species
rm(list = ls())
speciesList = unique(read.csv("../workflow/data/speciesList.csv")$Species)
rm(list = ls())
speciesList = unique(read.csv("../workflow/data/speciesList.csv")$Species)
# remove a few species from the list
# I already know where to get data for these species
speciesList[!(speciesList %in% c("Arabidopsis thaliana", "Oryza sativa", "Zea mays"))]
species = speciesList[86]
urlSpecies = gsub(" ", "+", species) # sub space for plus to put in url
fileSpecies = gsub(" ", "_", species) # sub space for underscore to put in file name
download.file(paste("http://trace.ncbi.nlm.nih.gov/Traces/sra/sra.cgi?save=efetch&db=sra&rettype=runinfo&term=", '"', urlSpecies, '"', '%5BOrganism%5D+AND+"biomol+dna"%5BProperties%5D', sep = ""), paste(fileSpecies, "_runInfo.csv", sep = ""))
paste("http://trace.ncbi.nlm.nih.gov/Traces/sra/sra.cgi?save=efetch&db=sra&rettype=runinfo&term=", '"', urlSpecies, '"', '%5BOrganism%5D+AND+"biomol+dna"%5BProperties%5D', sep = ""),
paste("http://trace.ncbi.nlm.nih.gov/Traces/sra/sra.cgi?save=efetch&db=sra&rettype=runinfo&term=", '"', urlSpecies, '"', '%5BOrganism%5D+AND+"biomol+dna"%5BProperties%5D', sep = "")
download.file(paste("http://trace.ncbi.nlm.nih.gov/Traces/sra/sra.cgi?save=efetch&db=sra&rettype=runinfo&term=", '"', urlSpecies, '"', '%5BOrganism%5D+AND+"biomol+rna"%5BProperties%5D', sep = ""), paste(fileSpecies, "_runInfo.csv", sep = ""))
speciesList
species = speciesList[17]
species
speciesList[!(speciesList %in% c("Arabidopsis thaliana", "Oryza sativa", "Zea mays"))]
for(species in speciesList){
urlSpecies = gsub(" ", "+", species) # sub space for plus to put in url
fileSpecies = gsub(" ", "_", species) # sub space for underscore to put in file name
download.file(paste("http://trace.ncbi.nlm.nih.gov/Traces/sra/sra.cgi?save=efetch&db=sra&rettype=runinfo&term=", '"', urlSpecies, '"', '%5BOrganism%5D+AND+"biomol+dna"%5BProperties%5D', sep = ""), paste(fileSpecies, "_runInfo.csv", sep = ""))
q()
///
urlSpecies = gsub(" ", "+", species) # sub space for plus to put in url
fileSpecies = gsub(" ", "_", species)
download.file(paste("http://trace.ncbi.nlm.nih.gov/Traces/sra/sra.cgi?save=efetch&db=sra&rettype=runinfo&term=", '"', urlSpecies, '"', '%5BOrganism%5D+AND+"biomol+dna"%5BProperties%5D', sep = ""), paste(fileSpecies, "_runInfo.csv", sep = ""))
if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("SRAdb")
rm(list = ls())
# if (!require("BiocManager", quietly = TRUE))
#     install.packages("BiocManager")
#
# BiocManager::install("SRAdb")
speciesList = unique(read.csv("../workflow/data/speciesList.csv")$Species)
rm(list = ls())
# if (!require("BiocManager", quietly = TRUE))
#     install.packages("BiocManager")
#
# BiocManager::install("SRAdb")
speciesList = unique(read.csv("../workflow/data/speciesList.csv")$Species)
